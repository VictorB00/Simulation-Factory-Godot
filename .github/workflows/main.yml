name: Godot CI

on: [push, pull_request]

jobs:
  build:

    runs-on: ${{ matrix.operating-system }}
    strategy:
      matrix:
        operating-system: [ubuntu-18.04, ubuntu-20.04]
    steps:
      - uses: actions/checkout@v1
      - name: Install
        run: |
            sudo apt install unzip wget
            cd .. && mkdir Godot && cd Godot
            wget https://downloads.tuxfamily.org/godotengine/3.3.2/Godot_v3.3.2-stable_x11.64.zip
            unzip Godot_v3.3.2-stable_x11.64.zip
            cd ../Simulation-Factory-Godot
      - name: Run
        run: | 
            cd tests
            python -m unittest basic_test should_fail_test

